"use strict";(()=>{(function(){if(window.self!==window.top){console.log("[NEO Tracker] Skipping - running inside iframe");return}let l=[];function c(t){return Number.isNaN(t)?.5:Math.max(0,Math.min(1,t))}function d(t){let n=0;for(let e=0;e<t.length;e++){let i=t.charCodeAt(e);n=(n<<5)-n+i,n=n&n}return Math.abs(n).toString(16).substring(0,8)}function h(t){var a,s,g;let n=(a=t.closest)==null?void 0:a.call(t,".question-select-list > li");if(n)return n;let i=(g=(s=t.closest)==null?void 0:s.call(t,'[data-neo-track],a,button,input,textarea,select,label,[role="button"]'))!=null?g:t,o=i.getBoundingClientRect();for(;(o.width<=0||o.height<=0)&&i.parentElement;)i=i.parentElement,o=i.getBoundingClientRect();return i}function r(t){if(t.id)return`//*[@id="${t.id}"]`;let n=[],e=t;for(;e&&e.nodeType===Node.ELEMENT_NODE&&e!==document.body;){let i=1,o=e.previousElementSibling;for(;o;)o.tagName===e.tagName&&i++,o=o.previousElementSibling;let a=e.tagName.toLowerCase();n.unshift(`${a}[${i}]`),e=e.parentElement}return"//body/"+n.join("/")}function E(t){let n=r(t),e=[t.tagName,t.id||"",t.className||"",(t.textContent||"").trim().substring(0,30)].join("|");return`${n}#${d(e)}`}function m(t){return t instanceof HTMLInputElement?t.value||t.placeholder||"":(t.textContent||"").trim().substring(0,100)}function f(t){let n=t.target;if(!n||!(n instanceof Element))return;let e=h(n),i=e.getBoundingClientRect(),o=i.width>0?(t.clientX-i.left)/i.width:.5,a=i.height>0?(t.clientY-i.top)/i.height:.5,s={xpath:r(e),xpathWithHash:E(e),tagName:e.tagName.toLowerCase(),text:m(e),xRatio:c(o),yRatio:c(a)};l.push(s),console.log("[NEO] Click #"+l.length+":",s)}window.NEO={get:function(){let t={success:!0,count:l.length,data:l};return console.log("[NEO] Copy this data:"),console.log(JSON.stringify(t,null,2)),t},clear:function(){l.length=0,console.log("[NEO] Cleared all clicks")},count:function(){return console.log("[NEO] Total clicks:",l.length),l.length}};function u(){document.addEventListener("click",f,!0),console.log("[NEO Tracker] Initialized"),console.log("[NEO Tracker] Commands: NEO.get() | NEO.clear() | NEO.count()")}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",u):u()})();})();
